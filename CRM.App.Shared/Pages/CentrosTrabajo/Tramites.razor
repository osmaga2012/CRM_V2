@page "/MisTramites"
@page "/tramites"

@inject IFormFactor PlatformService
@inject IPlatformNavigationService NavigationService

@using CRM.App.Shared.Componentes
@using CRM.App.Shared.Interfaces
@using CRM.App.Shared.Services
@using CRM.Dtos
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.QuickGrid

<div class="tramites-toolbar">
    <input @bind="SearchString" placeholder="Buscar trámites..." class="tramites-search" />
</div>

@if (PlatformService.IsNativeApp)
{
    <div class="tramites-cards">
        @foreach (var t in (FiltroTramites ?? Enumerable.Empty<TramiteDto>()))
        {
            <article class="tramite-card" role="article" @key="t.Id">
                <div class="tramite-card-body">
                    <h3 class="tramite-title">@t.NombreTramite</h3>
                    <p class="tramite-sub">Id: @t.Id</p>
                    @* Si hay más propiedades en TramiteDto añádelas aquí *@
                </div>
                <div class="tramite-card-footer">
                    <button class="tramite-btn">Ver</button>
                </div>
            </article>
        }
    </div>
}
else
{
    <QuickGrid Items="FiltroTramites">
        <Microsoft.AspNetCore.Components.QuickGrid.PropertyColumn Property="@(p => p.Id)" Title="Id" Sortable="true" />
        <Microsoft.AspNetCore.Components.QuickGrid.PropertyColumn Property="@(p => p.NombreTramite)" Title="Nombre" Sortable="true" />
        <Microsoft.AspNetCore.Components.QuickGrid.TemplateColumn Title="Acciones">
            <Template Context="item">
                <button class="tramite-btn">Ver</button>
            </Template>
        </Microsoft.AspNetCore.Components.QuickGrid.TemplateColumn>
    </QuickGrid>
}

@* Mantener otros comentarios o bloques según sea necesario *@
